<style>
    svg {
        height: 500;
        width: 1000;
    }
</style>

<div id="wrapper">
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    
                    <h1 class="page-header"><strong>Positive Views of Political Party Leaders</strong></h1>

                </div>
            </div>
                    
                     <svg id="chart" class="with-3d-shadow with-transitions"></svg>


                <div id="menu-wrapper">
                    <div id="menu-canvas">
                    <div id="site-menu"> 
                    
                        <h4>Bold Heading Topic</h4>
                        <p>Put any text you want here. Style it however you want.</p>
                    </div> 
            
                    
                    <a class="toggle-nav btn btn-sm btn-primary" id="#"><i class="fa fa-info"></i></a>
                    <a class="toggle-nav"></a>    
                </div> 
               </div>     
            </div>
        </div> 

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>

d3.json("data/longitudinal/political/partyleaders.json", function(error, data) {

    var width = 920; 

  nv.addGraph(function() {
    var chart = nv.models.lineChart()
                  .x(function(d) { return d[0] })
                  .y(function(d) { return d[1]/100 }) //adjusting, 100% is 1.00, not 100 as it is in the data
                  //.color(d3.scale.category10().range())
                  
                  .duration(1200)
                  //.width(width)
                  .useInteractiveGuideline(true);
             

     chart.xAxis
        .margin({right: 50})
        .tickValues([1359590400000, 1385769600000,1391126400000, 1421297652000]) 
        .tickFormat(function(d) {
            return d3.time.format('%m/%y')(new Date(d))
          });

    chart.yAxis
        .tickFormat(d3.format('%'));

    d3.select('#chart')
        .datum(data)
        .transition().duration(1200)
        .call(chart);

    nv.utils.windowResize(chart.update);

    return chart;
  })
  });


</script>